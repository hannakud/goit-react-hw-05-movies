{"version":3,"file":"static/js/168.07ccb7c9.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/Reviews/Reviews.module.css?7248","components/Reviews/Reviews.jsx","services/Api.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"list\":\"Reviews_list__okdpy\"};","import { getReviews } from '../../services/Api';\nimport { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport css from './Reviews.module.css';\nimport Loader from 'components/Loader/Loader';\n\nconst Reviews = () => {\n  const { movieId } = useParams();\n  const [reviews, setReviews] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    const loadReviews = async id => {\n      try {\n        setIsLoading(true);\n        const comments = await getReviews(id);\n        console.log(comments);\n        setReviews(comments);\n      } catch (error) {\n        toast.error(' Sorry, there is mistake in server with review');\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    loadReviews(movieId);\n  }, [movieId]);\n\n  const isShowNoRecords = reviews.length === 0 && !isLoading;\n  const isShowReviews = reviews.length && !isLoading;\n\n  return (\n    <>\n      {isLoading && <Loader />}\n      {isShowReviews && (\n        <ul className={css.list}>\n          {reviews.map(({ id, content, author }) => (\n            <li key={id}>\n              <h3>Author: {author}</h3>\n              <p>{content}</p>\n            </li>\n          ))}\n        </ul>\n      )}\n      {isShowNoRecords && <p>We don't have any reviews for this movie</p>}\n    </>\n  );\n};\n\nexport default Reviews;\n","import axios from 'axios';\n\nconst URL = `https://api.themoviedb.org/3`;\nconst API_KEY = 'e0b2738922ecba49fdf80e5e8d9f9891';\n\nexport const api = axios.create({\n  baseURL: URL,\n  params: {\n    api_key: API_KEY,\n  },\n});\n\nconst POSTER_BASE_URL_W154 = 'https://image.tmdb.org/t/p/w154/';\nconst POSTER_BASE_URL_W300 = 'https://image.tmdb.org/t/p/w300/';\nconst NO_PHOTO =\n  'https://westsiderc.org/wp-content/uploads/2019/08/Image-Not-Available.png';\n\nexport const getTrendMovies = async () => {\n  const response = await api.get(`/trending/movie/day`);\n  return response.data.results.map(({ id, title, overview, poster_path }) => ({\n    id,\n    title,\n    overview,\n    poster: poster_path ? POSTER_BASE_URL_W154 + poster_path : '',\n  }));\n};\n\nexport const getMoviesByName = async query => {\n  const response = await api.get(`/search/movie?query=${query}`);\n  return response.data.results.map(({ id, title, overview, poster_path }) => ({\n    id,\n    title,\n    overview,\n    poster: poster_path ? POSTER_BASE_URL_W154 + poster_path : NO_PHOTO,\n  }));\n};\n\nexport const getMoviesDetails = async movieId => {\n  const response = await api.get(`/movie/${movieId}?`);\n  const {\n    id,\n    genres,\n    title,\n    release_date,\n    overview,\n    poster_path,\n    vote_average,\n  } = response.data;\n\n  console.log(response.data);\n  const releaseDate = new Date(release_date);\n  const releaseYear = isNaN(releaseDate)\n    ? 'Unknown'\n    : releaseDate.getFullYear();\n\n  return {\n    id,\n    title,\n    releaseYear,\n    overview,\n    poster: poster_path ? POSTER_BASE_URL_W300 + poster_path : NO_PHOTO,\n    genres: genres.map(({ name }) => name),\n    rating: vote_average,\n  };\n};\n\nexport const getCast = async movieid => {\n  const response = await api.get(`/movie/${movieid}/credits?`);\n\n  return response.data.cast.map(({ id, name, character, profile_path }) => ({\n    id,\n    character,\n    profile: profile_path ? POSTER_BASE_URL_W154 + profile_path : NO_PHOTO,\n    name,\n  }));\n};\n\nexport const getReviews = async movieid => {\n  const response = await api.get(`/movie/${movieid}/reviews?`);\n  return response.data.results.map(({ id, content, author }) => ({\n    id,\n    content,\n    author,\n  }));\n};\n"],"names":["movieId","useParams","useState","reviews","setReviews","isLoading","setIsLoading","useEffect","loadReviews","id","getReviews","comments","console","log","toast","isShowNoRecords","length","isShowReviews","Loader","className","css","map","content","author","api","axios","baseURL","params","api_key","POSTER_BASE_URL_W154","NO_PHOTO","getTrendMovies","get","response","data","results","title","overview","poster_path","poster","getMoviesByName","query","getMoviesDetails","genres","release_date","vote_average","releaseDate","Date","releaseYear","isNaN","getFullYear","name","rating","getCast","movieid","cast","character","profile_path","profile"],"sourceRoot":""}